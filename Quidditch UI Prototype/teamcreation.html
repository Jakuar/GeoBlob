<!DOCTYPE HTML>
<html>
<!--jbel763-->
<head>
  <title>SQRL - Team Creation</title>
  <meta name="description" content="website description" />
  <meta name="keywords" content="website keywords, website keywords" />
  <meta http-equiv="content-type" content="text/html; charset=windows-1252" />
  <link rel="stylesheet" type="text/css" href="style/style.css" />
</head>

<body>
    <div id="header">
      <div id="logo">
        <div id="logo_text">
          <h1><a href="home.html">SQRL</a></h1>
		  <h2>UK Summer Recreational Quidditch League</h2>
        </div>
      </div>
	  <div id="logo">
	  <img src="sky.jpg" alt="Mountain View" style="width:1025px;height:100px">
	  </div>
      <div id="menubar">
        <ul id="menu">
          <li><a href="home.html">Home</a></li>
		  <li><a>Schedule</a></li>
		  <li><a>Standings</a></li>
          <li class="selected"><a href="teamcreation.html">Team Creation</a></li>
		  <li><a>Player</a></li>
		  <li><a>About</a></li>
		  <li><a>Help</a></li>
        </ul>
      </div>
    </div>
    <div id="content_header"></div>
    <div id="site_content">
      
      <div id="content">
        <h1>Team Creation</h1>
		<form action="playerselection.html">
		<fieldset>
		 <div class="form_settings">
		 <div class="required_forms">
		 <p><b> Please select your region for your team <b></p>
		<p>
		  <select name="region" id="teamRegionSelection">
			  <option value="Scotland">Scotland</option>
			  <option value="Northern Ireland">Northern Ireland</option>
			  <option value="Wales">Wales</option>
			  <option value="England (Northern)">England (Northern)</option>
			  <option value="England (Midlands)">England (Midlands)</option>
			  <option value="England (Greater London)">England (Greater London))</option>
			  <option value="England (Eastern)">England (Eastern))</option>
			  <option value="England (Southern)">England (Southern)</option>
			</select>
			</p>
		 
        	<p><b>Please select a Division</b></p>
           <p>	<select id="teamDivisionSelection" name="teamDivision">
			  <option value="Kids"> Kids (age 16 and under)</option>
			  <option value="Adult Casual">Adult Casual (aged 17-34)</option>
			  <option value="Adult Serious">Adult Serious (aged 17-34)</option>
			  <option value="Seniors">Seniors (age 35+)</option>
			  <option value="Legends">Legends (ex-professionals) </option>
			</select>
			</p>
            <p><b><span>Please enter a team name</span></b></p>
			<p><input type="text" name="teamName" maxlength="32" required id="teamNameSelection" value="" /></p>          
		</div>
		
        <p>Insert a team icon (optional)</p>
		<input id="imageupload" type="file" onchange="previewFile()" style="margin-bottom: 10px"><br>
        <img src="" id="imagepreview" height="100" alt="Image preview..." style = "overflow:auto;">
</head>
<body>

<div id="div1" class="abox" ondrop="drop(event)" ondragover="allowDrop(event)"></div>

		   <p style="padding-top: 20px" align="left"><input class="submit" type="submit" name="name" onclick="confirmTeam()" value="Confirm" /></p>
</div>
		 </fieldset>
		</form>
      </div>
    </div>
<script>
	teamImage = document.getElementById('imagepreview');
	imgData = getBase64Image(teamImage);
	sessionStorage.setItem("session _image", imgData);

	function getBase64Image(img) {
    var canvas = document.createElement("canvas");
    canvas.width = img.width;
    canvas.height = img.height;
    var ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0);

    var dataURL = canvas.toDataURL("image/png");

    return dataURL.replace(/^data:image\/(png|jpg);base64,/, "");
}
   function previewFile(){
       var preview = document.getElementById("imagepreview"); 
       var file    = document.querySelector('input[type=file]').files[0];
       var reader  = new FileReader();

       reader.onloadend = function () {
           preview.src = reader.result;
       }

       if (file) {
           reader.readAsDataURL(file); 
       } else {
           preview.src = "";
       }
  }

	previewFile();
	function allowDrop(ev)
	{ev.preventDefault();}

	function drag(ev)
	{ev.dataTransfer.setData("Text",ev.target.id);}

	function drop(ev)
	{ ev.preventDefault();
	var data=ev.dataTransfer.getData("Text");
	ev.target.appendChild(document.getElementById(data)); }

	var teamRegion = document.getElementById('teamRegionSelection').value
	var teamDivision = document.getElementById('teamDivisionSelection').value
	var teamName = document.getElementById('teamNameSelection').value
	var image = document.getElementById('imageupload').value


	function confirmTeam(ev)
	{ 
	var teamRegion = document.getElementById('teamRegionSelection').value;
	var teamDivision = document.getElementById('teamDivisionSelection').value;
	var teamName = document.getElementById('teamNameSelection').value;
	var image = document.getElementById('imageupload').value;
	sessionStorage.setItem("session_teamRegion", teamRegion);
	sessionStorage.setItem("session_teamDivision", teamDivision);
	sessionStorage.setItem("session_teamName", teamName);
	localStorage.setItem("session_image", image);

}
</script>
    <div id="content_footer"></div>
    <div id="footer">
      <p><a href="home.html">Home</a> | <a>About</a> | <a>Help</a></p>
      
    </div>
</body>
</html>
